<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Meldify</title>
  <link rel="stylesheet" href="./styles/style.css">
</head>
<body id="backgroundHalo" class="welcome-page">

<!-- WELCOME PAGE -->
<div id="page-welcome" class="page">
  <h1>Welcome to Meldify ðŸŽ¬</h1>
  <div class="dropzone" id="dropzone">
    Drop your files here or click to browse
  </div>
  <div class="button-row">
    <div></div>
    <button class="next-btn">Next</button>
  </div>
</div>

<!-- SETTINGS PAGE -->
<div id="page-settings" class="page hidden">
  <h1>Settings</h1>
  <form id="settings-form" class="settings-form">
    <div class="form-group resolution-group">
      <label>Output Resolution:</label><br>
      <div class="resolution-options">
        <div class="resolution-btn selected" data-value="HD">HD</div>
        <div class="resolution-btn" data-value="4K">4K</div>
      </div>
    </div>
    <div class="form-group">
      <input type="checkbox" id="applyLUT" checked>
      <label for="applyLUT">Apply in-camera LUTs</label>
    </div>
    <div class="form-group">
      <input type="checkbox" id="droneResolution" checked>
      <label for="droneResolution">Auto-set drone/action cameras to full resolution</label>
    </div>
    <div class="form-group">
      <input type="checkbox" id="syncAudio" checked>
      <label for="syncAudio">Sync external audio via timecode</label>
    </div>
  </form>
  <div class="button-row">
    <button class="back-btn">Back</button>
    <button class="next-btn">Next</button>
  </div>
</div>

<!-- GALLERY PAGE -->
<div id="page-gallery" class="page hidden">
  <h1>Gallery</h1>

  <div id="settings-summary" class="settings-summary"></div>

  <p>Detected cameras. Assign LUTs and adjust per camera.</p>

  <!-- ðŸŸ° Important: gallery-grid wrapper -->
  <div id="gallery-grid"></div>

  <div class="button-row">
    <button class="back-btn">Back</button>
    <button class="next-btn">Next</button>
  </div>
</div>


<!-- AUDIO SYNC PAGE -->
<div id="page-audio" class="page hidden">
  <h1>Audio Sync</h1>
  <p>Detected external audio files. Sync by timecode?</p>
  <div class="button-row">
    <button class="back-btn">Back</button>
    <button class="next-btn">Next</button>
  </div>
</div>

<!-- EXPORT PAGE -->
<div id="page-export" class="page hidden">
  <h1>Export Settings</h1>

  <div class="form-group">
    <label for="exportFormat">Choose Export Format:</label><br>
    <select id="exportFormat">
      <option value="mp4">MP4 (10Mbps lightweight)</option>
      <option value="prores">ProRes Proxy (editing quality)</option>
    </select>
  </div>

  <div class="button-row">
    <button class="back-btn">Back</button>
    <button id="startExport" class="next-btn">Start Export</button>
  </div>

  <!-- Progress Bar -->
  <div id="exportProgressContainer" style="display:none; margin-top:20px;">
    <div id="exportProgressText" style="color:white; margin-bottom:5px;">Exporting 0 / 0</div>
    <div style="width: 100%; background-color: rgba(255,255,255,0.2); border-radius: 10px;">
      <div id="exportProgressBar" style="width: 0%; height: 20px; background-color: white; border-radius: 10px;"></div>
    </div>
  </div>
</div>

<!-- Hidden Dev Hue Slider -->
<input type="range" id="hueSlider" min="0" max="360" value="0" style="position:fixed; bottom:20px; left:20px; z-index:1000; width:200px; display:none; opacity:0.8;">

<!-- External Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.halo.min.js"></script>

<!-- App Scripts - Order matters! -->
<script src="./scripts/lutDatabase.js"></script>
<script src="./scripts/fileManager.js"></script>
<script src="./scripts/renderer.js"></script>

</body>
</html>